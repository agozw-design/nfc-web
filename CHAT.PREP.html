<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CHAT.PREP</title>
  <style>
    /* 基础与重置 */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: auto; min-height: 100%; overflow-y: auto; }
    body { margin: 0; color: #303030; background: #ffffff; overflow-x: hidden; }
    img { display: block; max-width: 100%; }

    /* 字体：尽可能匹配 Figma（若未安装将回退） */
    /* 阿里妈妈方圆体 - 官方 CDN 引用示例 */
    @font-face {
      font-family: 'AlimamaFangYuanTi';
      src: url('https://at.alicdn.com/t/webfont_f8f11y8y6jr.woff2') format('woff2'),
           url('https://at.alicdn.com/t/webfont_f8f11y8y6jr.woff') format('woff');
      font-display: swap; /* 关键：确保字体加载时先显示系统字体，不留白 */
    }
    :root {
      --c-bg-dim: #f3f3f3;
      --c-bg-card: #fdfdfd;
      --c-bg-card-2: #fcfcfc;
      --c-brand: #74625f;
      --c-text: #303030;
      --c-text-weak: #797979;
      --c-text-muted: #b6b6b6;
      --radius-12: 12px;
      --radius-99: 99px;
      --w-page: 608.7px;
    }

    body { font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans SC", "Source Han Sans SC", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .font-alimama { font-family: "AlimamaFangYuanTi", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans SC", "Source Han Sans SC", sans-serif; }
    .axis-bevl-1 { font-variation-settings: 'BEVL' 1; }
    .axis-bevl-80 { font-variation-settings: 'BEVL' 80; }
    .axis-bevl-100 { font-variation-settings: 'BEVL' 100; }


    /* 页面主容器：桌面限制最大宽度并居中 */
    .page { width: var(--w-page); max-width: 800px; margin: 0 auto; padding: 0; display: flex; flex-direction: column; gap: 24px; }

    /* 顶部 Header */
    .header { background: var(--c-brand); height: 24px; border-radius: 0; display: flex; align-items: center; justify-content: space-between; padding: 0 12px; color: #fcfcfc; }
    .header-left, .header-mid, .header-right { display: flex; align-items: center; }
    .header-left { gap: 8px; }
    .header-mid { gap: 8px; }
    .header-right { gap: 4px; }

    .addr-bar { height: 12px; width: 234px; background: #ffffff; border-radius: var(--radius-99); padding-left: 12px; padding-right: 2px; display: flex; align-items: center; justify-content: space-between; }
    .addr-text { font-size: 6px; color: #303030; line-height: 1; font-style: normal; white-space: nowrap; font-family: "PingFang SC", sans-serif; }
    .collect { font-size: 12px; white-space: nowrap; }

    /* LOGO + 欢迎区 */
    .welcome-wrap { display: flex; flex-direction: column; align-items: center; gap: 14px; padding: 0; }
    .logo-stack { display: flex; flex-direction: column; align-items: center; gap: 14px; height: 96px; width: 192px; }
    .divider { width: 100%; height: 2px; background: #000000; display: block; }

    .welcome-bar { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 8px; }
    .welcome-row { width: 100%; color: #303030; display: flex; align-items: center; justify-content: space-between; }
    .welcome-row .left, .welcome-row .mid, .welcome-row .right { white-space: nowrap; }
    .welcome-stats { display: flex; gap: 32px; align-items: center; font-size: 8px; color: #000; white-space: nowrap; font-family: "PingFang SC", sans-serif; }

    /* 两列主区域 */
    .main-cols { display: flex; gap: 8px; align-items: stretch; padding: 0; }
    .col-right { background: var(--c-bg-dim); border-radius: var(--radius-12); padding: 10px 10px; display: flex; flex-direction: column; gap: 14px; height: 100%; }
    .col-mid { flex: 1; display: flex; flex-direction: column; gap: 5px; }

    .chip-title { background: #fdfdfd; height: 20px; border-radius: var(--radius-99); display: flex; align-items: center; padding: 2px 6px; width: max-content; }
    .chip-title .row { width: 100%; display: flex; align-items: flex-end; justify-content: space-between; color: var(--c-brand); }
    .chip-title .row .big { font-size: 12px; }
    .chip-title .row .sub { font-size: 6px; }

    .hot-list { display: flex; flex-direction: column; gap: 4px; font-size: 8px; color: #303030; width: max-content; }
    .hot-list > div { white-space: nowrap; }

    .menu-list { display: flex; flex-direction: column; gap: 8px; }
    .menu-item { display: flex; align-items: flex-start; gap: 6px; color: #303030; font-size: 8px; white-space: nowrap; }

    .post-card { background: var(--c-bg-dim); border-radius: var(--radius-12); padding: 12px 8px; display: flex; flex-direction: column; gap: 4px; align-items: stretch; }
    .post-header { display: flex; align-items: flex-end; justify-content: space-between; }
    .post-title { color: #303030; font-size: 9px; white-space: nowrap; }
    .post-body { display: flex; flex-direction: column; gap: 3px; }
    .post-excerpt { color: var(--c-text-muted); line-height: 8px; font-size: 5.4px; }
    .post-footer { display: flex; align-items: center; justify-content: space-between; font-size: 5.4px; }
    .post-footer .ellipsis { color: var(--c-text-muted); }
    .post-footer .author { color: var(--c-text-weak); }

    .pill { background: var(--c-bg-dim); border-radius: var(--radius-99); padding: 10px 8px; font-size: 7px; color: #303030; }

    /* 右侧信息卡 */
    .info-chip { background: var(--c-bg-card-2); border-radius: var(--radius-99); height: 20px; width: max-content; display: flex; align-items: center; padding: 2px 6px; }
    .info-chip .row { width: max-content; display: flex; align-items: flex-end; justify-content: space-between; color: var(--c-brand); }

    .profile { display: flex; flex-direction: column; align-items: center; gap: 10px; width: max-content; }
    .avatar-card { background: #fefefe; border-radius: var(--radius-99); height: 91.08px; width: 91.08px; display: flex; align-items: flex-end; justify-content: center; padding: 0 24px; }

    .info-list { width: max-content; display: flex; flex-direction: column; gap: 8px; }
    .info-item { background: var(--c-bg-card); border-radius: var(--radius-12); height: 20px; display: flex; align-items: center; padding: 4px 8px; width: max-content; }
    .info-item .row { width: 100%; display: flex; align-items: center; justify-content: space-between; }

    /* 页脚区 */
    .footer { height: 154px; display: flex; flex-direction: column; gap: 16px; align-items: center; padding: 24px; }
    .footer-row { width: 100%; display: flex; align-items: center; justify-content: space-between; }

    /* 细节文字尺寸（按 Figma 标注）*/
    .t6 { font-size: 6px; }
    .t7 { font-size: 7px; }
    .t8 { font-size: 8px; }
    .t9 { font-size: 9px; }
    .t12 { font-size: 12px; }
    .fw-sb { font-weight: 600; }
    .fw-b { font-weight: 700; }
    .fw-m { font-weight: 500; }
    .center { text-align: center; }
    .nowrap { white-space: nowrap; }
    /* 页面容器 */
    #page-wrapper { width: 100%; overflow-x: hidden; }
    
    /* 移动端适配：确保内容撑满屏幕，无左右边距 */
    @media (max-width: 768px) {
      .page { width: 100%; max-width: 100%; margin: 0; padding: 0; }
      #page-wrapper { width: 100%; }
      .welcome-wrap { padding: 0; }
      .main-cols { padding: 0; gap: 4px; }
      .header { padding: 0 8px; }
      .footer { padding: 16px 8px; }
      /* 确保内容区域完全撑满 */
      .addr-bar { max-width: calc(100% - 20px); }
    }

    /* 字体内嵌预留（已改用 CDN 引用，不再需要 base64 内嵌） */
    #help-card{cursor:pointer;} #gossip-card{cursor:pointer;} #chat-card{cursor:pointer;}
    
    /* col-right per Figma (fixed width + consistent inner stretch) */
    .col-right { width: 120px; padding: 10px 8px; }
    .col-right .info-chip,
    .col-right .info-chip .row,
    .col-right .profile,
    .col-right .info-list,
    .col-right .info-item { width: 100%; }
    /* Force size for specific classes */
    .font-alimama.axis-bevl-100.t9.fw-normal.mid,
    .font-alimama.axis-bevl-100 { font-size: 12px !important; }
    /* Override for left/right t6 to 6px */
    .font-alimama.axis-bevl-100.t6.fw-m.right,
    .font-alimama.axis-bevl-100.t6.fw-m.left { font-size: 6px !important; }
  </style>
</head>
<body>

  <div id="page-wrapper"><main class="page" id="page-scale" data-name="CHAT.PREP-HOME" data-node-id="43:17">
    <!-- Header -->
    <header class="header" data-name="Header" data-node-id="44:1715">
      <div class="header-left" data-node-id="44:1714">
        <img loading="lazy" alt="容器图标" width="16" height="16" src="./images/arrow.svg" />
        <img loading="lazy" alt="logo1" width="53" height="10" src="./images/offtherecord.svg" />
      </div>
      <div class="header-mid" data-node-id="44:1704">
        <div class="addr-bar" data-node-id="44:1702">
          <span class="addr-text">HTTPS://WWW.PREPSCHOOL.COM</span>
          <img loading="lazy" alt="猫爪" width="9.72" height="9.72" src="./images/paw.svg" />
        </div>
        <img loading="lazy" alt="鼠标" width="6" height="12" src="./images/cursor.svg" />
      </div>
      <div class="header-right" data-node-id="44:1707">
        <img loading="lazy" alt="星星" width="10" height="10" src="./images/star.svg" />
        <span class="font-alimama axis-bevl-1 collect">收藏本站</span>
      </div>
    </header>

    <!-- 欢迎区 -->
    <section class="welcome-wrap" data-node-id="44:1716">
      <div class="logo-stack" data-node-id="44:1672">
        <img loading="lazy" alt="LOGO" width="36" height="36" src="./images/LOGO.png" />
        <img loading="lazy" alt="Union" width="192.522" height="46.646" src="./images/title-up.svg" />
      </div>

      <div class="welcome-bar" data-node-id="44:1693">
        <div class="welcome-row" data-node-id="44:1691">
          <span class="font-alimama axis-bevl-100 t6 fw-m left">· 欢迎来到预备校论坛 ·</span>
          <span class="font-alimama axis-bevl-100 t9 fw-normal mid">预备校论坛</span>
          <span class="font-alimama axis-bevl-100 t6 fw-m right">· 请严格遵守论坛坛规 ·</span>
        </div>
        <div class="divider" aria-hidden="true"></div>
        <div class="welcome-stats" data-node-id="44:1690">
          <span>今日上线人数：888</span>
          <span>目前上线人数：346</span>
          <span>昨日新增贴数：289</span>
        </div>
      </div>
    </section>

    <!-- 两列主内容 -->
    <section class="main-cols" data-node-id="46:1565">
      <!-- 左列：用户信息 -->
      <aside class="col-right" data-node-id="46:1694">
        <div class="info-chip font-alimama axis-bevl-1" data-node-id="46:1695">
          <div class="row">
            <span class="t12">我的信息</span>
            <span class="t6">MEME</span>
          </div>
        </div>

        <div class="profile" data-node-id="46:1699">
          <div class="avatar-card" data-node-id="46:1701">
            <img loading="lazy" alt="avatar-shape" width="42.74" height="71.28" src="./images/avatar.svg" />
          </div>
          <div class="font-alimama axis-bevl-1 t8 fw-b">我是MEME</div>

          <div class="info-list" data-node-id="46:1704">
            <div class="info-item" data-node-id="46:1705">
              <div class="row">
                <span class="font-alimama axis-bevl-1 t8">关注</span>
                <img loading="lazy" alt="***" width="9.837" height="3.032" src="./images/no.svg" />
              </div>
            </div>
            <div class="info-item" data-node-id="46:1709">
              <div class="row">
                <span class="font-alimama axis-bevl-1 t8">粉丝</span>
                <img loading="lazy" alt="***" width="9.837" height="3.032" src="./images/no.svg" />
              </div>
            </div>
            <div class="info-item" data-node-id="46:1713">
              <div class="row">
                <span class="font-alimama axis-bevl-1 t8" style="color:#303030">发帖数</span>
                <span class="font-alimama axis-bevl-1 t8" style="color:#74625f">520</span>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- 右列 帖子列表 -->
      <section class="col-mid" data-node-id="46:1627">
        <article class="post-card" id="help-card" role="button" tabindex="0" aria-label="查看详情：和朋友在一起时手环一直在响，这是什么原因？（求助）" data-name="HELP" data-node-id="46:1628">
          <div class="post-header">
            <h3 class="font-alimama axis-bevl-1 t9" style="margin:0">【求助】和朋友在一起时手环一直在响……这是什么原因？</h3>
            <img loading="lazy" alt="chev" width="10.99" height="3.03" src="./images/hot.svg" />
          </div>
          <div class="post-body">
            <div class="post-excerpt font-alimama axis-bevl-1">
              <p style="margin:0">……如题。以下是一些情况说明：</p>
              <p style="margin:0">楼主是 Alpha。这个学期开始，我的手环在某些特定场景会频繁触发预警。本来以为是设备老化，或是我的信息素又出现波动（我曾经历过二次分化），但是在医院进行了系统检查后，没有发现信息素紊乱的情况。后来我又更换过一次手环，情况依然是这样</p>
            </div>
            <div class="post-footer font-alimama axis-bevl-1">
              <span class="ellipsis">……</span>
              <span class="author">—— 匿名（Alpha UID0929）</span>
            </div>
          </div>
        </article>

        <article class="post-card" id="gossip-card" role="button" tabindex="0" aria-label="查看详情：校外实践课有两个同学掰玉米掰得飞快（八卦）" data-name="GOSSIP" data-node-id="46:1640">
          <div class="post-header">
            <h3 class="font-alimama axis-bevl-1 t9" style="margin:0">【八卦】校外实践课有两个同学掰玉米掰得飞快…这是正常AO手速吗</h3>
            <img loading="lazy" alt="chev" width="10.99" height="3.03" src="./images/hot.svg" />
          </div>
          <div class="post-body">
            <div class="post-excerpt font-alimama axis-bevl-1">
              <p style="margin:0">楼主是新生。</p>
              <p style="margin:0">实践课老师前段时间安排了“农作物基础处理”体验课，是和高二高三一起上的。我和朋友分到的学习任务是掰玉米—天啊玉米真的很难掰！本来以为这节课会非常无聊，结果我看到前排有对AO掰得飞快……真的飞快。</p>
              <p style="margin:0">感觉楼主这门课后半程的时间全都是在偷偷观察他们</p>
            </div>
            <div class="post-footer font-alimama axis-bevl-1">
              <span class="ellipsis">……</span>
              <span class="author">—— 匿名（Alpha UID0929）</span>
            </div>
          </div>
        </article>

        <article class="post-card" id="chat-card" role="button" tabindex="0" aria-label="查看详情：表白墙□□□名O有主及回帖（闲聊）" data-name="CHAT" data-node-id="46:1652">
          <div class="post-header">
            <h3 class="font-alimama axis-bevl-1 t9" style="margin:0">【闲聊】有没有谁看到表白墙上□□□名O有主的帖子和对方的回帖</h3>
            <img loading="lazy" alt="chev" width="10.99" height="3.03" src="./images/hot.svg" />
          </div>
          <div class="post-body">
            <div class="post-excerpt font-alimama axis-bevl-1">
              <p style="margin:0">虽然那两条投稿隔了一天就被当事人举着学生证去管理员那里删除了，但感觉已经传遍预备校了（。）</p>
              <p style="margin:0">不得不说校园墙不能截图的机制真是坏坏的，有些瓜删得太快了根本来不及品。但是聪慧的老吃家楼主已经把瓜印在了脑子里，我要把那两个投稿复述一遍，供没看到的朋友们一起品：</p>
              <p style="margin:0">……</p>
            </div>
            <div class="post-footer font-alimama axis-bevl-1" style="padding-left:12px">
              <span class="author">[此贴已被当事人实名请求删帖] [此贴又被当事人实名请求公开]</span>
              <span class="author">—— 匿名（Alpha UID0929）</span>
            </div>
          </div>
        </article>

        <!-- 多个简短条目（胶囊） -->
        <div class="pill font-alimama axis-bevl-1 t7">【八卦】最近游泳馆的信息素循环系统怎么回事，怎么浓度老是不太稳定？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【闲聊】我同桌上课喜欢把牛角包叼嘴里，说这样“更有学习氛围”，这个可以学吗？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【八卦】前几天去游乐园，在鬼屋里看到了□□和□□□一起，是错觉吗？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【邀请】有谁要去□□□□医院口腔科的无痛智齿拔除研究项目做志愿者吗？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【求助】痛失蓝玻璃会员卡！求捡到的好心人归还！</div>
        <div class="pill font-alimama axis-bevl-1 t7">【种草】虽然听起来很（），但是□□跑车里的粉色内饰有没有定制方案推推（。）</div>
        <div class="pill font-alimama axis-bevl-1 t7">【八卦】实践课上远远看到一只狮子正在偷偷摸小狗的头（这对吗。</div>
        <div class="pill font-alimama axis-bevl-1 t7">【求助】有谁知道最近城西□□□那边那个□□□选手的赛程吗？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【种草】谁下单了88个蓝玻璃的牛角包，路过看到配送员带着这一大袋子震惊</div>
        <div class="pill font-alimama axis-bevl-1 t7">【闲聊】小□游泳苦手真的很可爱……感觉很想上手 rua 小猫咪……</div>
        <div class="pill font-alimama axis-bevl-1 t7">【种草】街角花店最近主推款变成了洋桔梗，而且是十七朵，是有什么寓意吗？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【八卦】怎么会有人在学校里和机器人打电话互呸？？？？第一次见？？</div>
        <div class="pill font-alimama axis-bevl-1 t7">【八卦】感觉某位同学网瘾有点重，多次目击他偷拍□□同学的外星人照片！</div>
        <div class="pill font-alimama axis-bevl-1 t7">【邀请】天呢高二游泳课要期中考了…有没有人一起去观A（（（</div>
        <div class="pill font-alimama axis-bevl-1 t7">【求助】寻人启事：寻找少爷 爱玩手机 爱打游戏 不爱上学</div>
      </section>
    </section>

    <!-- 页脚 -->
    <footer class="footer" data-node-id="46:1718">
      <img loading="lazy" alt="logo2" width="36" height="36" src="./images/LOGO.png" />
      <div class="footer-row">
        <div style="width:138.6px; height:28.44px; overflow:hidden;">
          <img loading="lazy" alt="199" src="./images/decoration-left.svg" style="width:100%; height:100%; object-fit:cover;" />
        </div>
        <div style="display:flex; flex-direction:column; align-items:center; gap:6px; width:163.172px;">
          <div class="font-alimama axis-bevl-1 t8 center" style="color:#2a2a2a; width:100%;">WELCOME TO CHAT.PREP.</div>
          <img loading="lazy" alt="Union2" width="163.172" height="38.861" src="./images/title-bottom.svg" />
        </div>
        <div style="width:138.6px; height:28.44px; overflow:hidden;">
          <img loading="lazy" alt="200" src="./images/decoration-right.svg" style="width:100%; height:100%; object-fit:cover;" />
        </div>
      </div>
    </footer>
  </main></div></div>
  <script>
    // 核心缩放脚本：立即执行，但使用 requestAnimationFrame 优化
    (function () {
      const wrapper = document.getElementById('page-wrapper');
      const pageScale = document.getElementById('page-scale');
      if (!wrapper || !pageScale) return;

      // 页面原始宽度：608.7px
      const PAGE_WIDTH = 608.7;
      
      // 检测是否是移动设备
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
                      (window.innerWidth <= 768);
      
      // 在移动端，保存初始屏幕宽度，用于计算固定的缩放比例
      let initialMobileWidth = null;
      if (isMobile) {
        initialMobileWidth = screen.width || window.outerWidth || window.innerWidth;
      }

      function applyScale() {
        // 获取基础宽度
        let baseWidth;
        if (isMobile && initialMobileWidth) {
          // 在移动端，始终使用初始屏幕宽度，避免受浏览器缩放影响
          baseWidth = initialMobileWidth;
        } else {
          // 桌面端使用当前视口宽度
          baseWidth = window.innerWidth || document.documentElement.clientWidth;
        }
        
        const targetScale = baseWidth / PAGE_WIDTH;

        // 使用 requestAnimationFrame 延迟布局计算，避免阻塞渲染
        requestAnimationFrame(function() {
          // 临时移除transform来测量真实高度
          const prevTransform = pageScale.style.transform;
          pageScale.style.transform = 'none';
          void pageScale.offsetHeight; // 强制重排
          const pageScrollHeight = pageScale.scrollHeight;

          // 应用缩放 - 移动端和桌面端都使用缩放，确保内容撑满屏幕
          pageScale.style.transformOrigin = 'left top';
          pageScale.style.transform = 'scale(' + targetScale + ')';

          // 同步高度和宽度
          const scaledHeight = pageScrollHeight * targetScale;
          const scaledWidth = PAGE_WIDTH * targetScale;
          requestAnimationFrame(function() {
            wrapper.style.height = scaledHeight + 'px';
            wrapper.style.width = scaledWidth + 'px';
            wrapper.style.minHeight = 'auto';
            wrapper.style.maxHeight = 'none';
            pageScale.style.marginBottom = '0';
          });
        });
      }

      // 事件监听器使用防抖优化
      let resizeTimer;
      function debouncedApplyScale() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(applyScale, 16); // 约60fps
      }

      // 监听视口变化（包括浏览器缩放）
      window.addEventListener('resize', debouncedApplyScale, { passive: true });
      window.addEventListener('orientationchange', applyScale, { passive: true });
      
      // 使用 visualViewport API 监听缩放变化（如果支持）
      if (window.visualViewport) {
        window.visualViewport.addEventListener('resize', debouncedApplyScale, { passive: true });
        window.visualViewport.addEventListener('scroll', debouncedApplyScale, { passive: true });
      }
      
      // 立即执行一次，不等待 DOMContentLoaded
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyScale, { once: true });
      } else {
        applyScale();
      }
    })();
  </script>
  <script>
    // 非核心导航脚本：延迟执行，不阻塞渲染
    (function(){
      // 延迟到 DOMContentLoaded 之后执行
      function initNavigation() {
        function bindCard(id, href){
          var el = document.getElementById(id);
          if(!el) return;
          var go = function(){ window.location.href = href; };
          el.addEventListener('click', go);
          el.addEventListener('keydown', function(e){
            if(e.key === 'Enter' || e.key === ' ' || e.code === 'Space'){ e.preventDefault(); go(); }
          });
        }
        bindCard('help-card', 'help.html');
        bindCard('gossip-card', 'gossip.html');
        bindCard('chat-card', 'chat.html');
      }
      
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initNavigation, { once: true });
      } else {
        // 使用 setTimeout 延迟执行，不阻塞渲染
        setTimeout(initNavigation, 0);
      }
    })();
  </script>
</body>
</html>



